:root{
  --bg1:#0d0b1c;
  --bg2:#1b1440;
  --accent:#ff7ab6;
  --accent-2:#ffd166;
  --text:#f7f8fa;
  --soft:#ffffff1a;
  --shadow:0 10px 30px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--text);
  font-family:"Noto Serif SC","Playfair Display",system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
  background:radial-gradient(1200px 600px at 20% 10%, #231b51 0%, var(--bg1) 45%),
             radial-gradient(900px 600px at 80% 30%, #2d215d 0%, var(--bg2) 55%),
             linear-gradient(180deg, #0c0a19 0%, #0f0c21 100%);
  overflow-x:hidden;
}

/* 背景柔光 */
.bg-glow{
  position:fixed;inset:0;pointer-events:none;z-index:0;
  background:radial-gradient(600px 300px at 15% 20%, rgba(255,122,182,.20) 0%, transparent 60%),
             radial-gradient(600px 300px at 85% 30%, rgba(255,209,102,.20) 0%, transparent 60%),
             radial-gradient(400px 200px at 50% 80%, rgba(255,255,255,.10) 0%, transparent 70%);
  animation:glow 12s ease-in-out infinite;
}
@keyframes glow{0%,100%{filter:blur(0)}50%{filter:blur(2px) opacity,.95}}

/* 英雄区 */
.hero{
  position:relative;z-index:2;
  min-height:60vh;display:grid;place-items:center;text-align:center;padding:4rem 1.5rem;
}
.hero__title{
  font-size:clamp(2.4rem,6vw,5rem);letter-spacing:.05em;margin:0;font-weight:700;
  background:linear-gradient(90deg,#fff 0%,#ffe0f0 50%,#fff 100%);
  -webkit-background-clip:text;background-clip:text;color:transparent;
  text-shadow:0 0 30px rgba(255,255,255,.15);
}
.amp{margin:0 .4rem;color:var(--accent)}
.hero__subtitle{margin:.75rem 0 1.75rem;opacity:.9}
.hero__actions{display:flex;gap:.75rem;justify-content:center;flex-wrap:wrap}
.countdown{margin:1.4rem auto 0;display:flex;gap:.75rem;justify-content:center;flex-wrap:wrap;font-size:.9rem;letter-spacing:.05em;opacity:.92}
.cd-item{display:flex;flex-direction:column;align-items:center;background:#ffffff10;padding:.6rem .8rem;border-radius:12px;min-width:70px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);box-shadow:0 4px 14px #00000055}
.cd-item .num{font-size:1.2rem;font-weight:600;background:linear-gradient(90deg,#ff7ab6,#ffd166);-webkit-background-clip:text;background-clip:text;color:transparent}
.cd-item .label{font-size:.7rem;opacity:.8;margin-top:.25rem}

/* 按钮 */
.btn{cursor:pointer;border:none;border-radius:999px;padding:.8rem 1.25rem;font-weight:600;letter-spacing:.02em}
.btn.primary{background:linear-gradient(90deg,#ffa0ce,#ff7ab6);color:#1b1030;box-shadow:var(--shadow)}
.btn.accent{background:linear-gradient(90deg,#fff0b8,#ffd166);color:#2a1b00;box-shadow:var(--shadow)}
.btn:hover{transform:translateY(-1px);filter:brightness(1.05)}
.btn:active{transform:translateY(0)}

/* 通用区块 */
main{position:relative;z-index:2}
.section{padding:3rem 1.5rem}
.card{max-width:960px;margin:0 auto;background:var(--soft);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:16px;padding:1.75rem;box-shadow:var(--shadow)}
.card.soft{background:#ffffff12}
.card__title{margin:0 0 .75rem;font-size:1.5rem}
.wish{font-size:1.125rem;opacity:.95}

.grid{max-width:1100px;margin:0 auto;display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
.tile{background:#ffffff10;border-radius:14px;padding:1.25rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:var(--shadow)}
.tile h3{margin:.25rem 0 .5rem}
.tile p{opacity:.95}

.footer{padding:2rem 1.5rem;text-align:center;opacity:.8}

/* 渐入动画 */
.reveal{opacity:0;transform:translateY(20px);transition:opacity .7s ease,transform .7s ease}
.reveal.visible{opacity:1;transform:translateY(0)}

/* 花瓣/爱心飘落 */
.petal,.heart{
  position:fixed;top:-40px;left:0;width:18px;height:18px;pointer-events:none;z-index:1;
  transform:translate3d(0,0,0);
}
.petal{background:radial-gradient(circle at 30% 30%, #ffd7e8 0%, #ff9ac6 60%, #ff77b5 100%);border-radius:60% 40% 60% 40%}
.heart{background:none}
.heart:before,.heart:after{
  content:"";position:absolute;left:9px;top:0;width:9px;height:14px;background:#ff7ab6;border-radius:9px 9px 0 0;transform-origin:bottom center
}
.heart:before{transform:rotate(-45deg);left:0}
.heart:after{transform:rotate(45deg);left:9px}

@keyframes fall{
  0%{transform:translate3d(var(--x,0),-40px,0) rotate(0)}
  100%{transform:translate3d(var(--x,0),110vh,0) rotate(360deg)}
}

/* Canvas 全屏 */
#fx-canvas{position:fixed;inset:0;z-index:3;pointer-events:none}

/* 响应式微调 */
@media (max-width:600px){
  .hero{min-height:56vh}
  .card,.tile{padding:1.1rem}
  .cd-item{min-width:60px}
}

/* 照片画廊 */
.gallery__title{max-width:1100px;margin:0 auto 1.5rem;font-size:1.9rem;letter-spacing:.05em;text-align:center}
.gallery__grid{max-width:1200px;margin:0 auto;display:grid;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(220px,1fr))}
.gallery__item{position:relative;aspect-ratio:4/3;border-radius:16px;overflow:hidden;background:#ffffff10;cursor:pointer;isolation:isolate;box-shadow:var(--shadow);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);transition:transform .6s cubic-bezier(.16,.6,.3,1)}
.gallery__item:hover{transform:translateY(-6px)}
.gallery__item:before{content:attr(data-title);position:absolute;inset:auto 0 0 0;padding:.5rem .8rem;font-size:.75rem;letter-spacing:.08em;background:linear-gradient(180deg,transparent,rgba(0,0,0,.55));text-align:center}
.gallery__ph{width:100%;height:100%;background:linear-gradient(145deg,#ff7ab640,#ffd16640),repeating-linear-gradient(45deg,#ffffff08 0 8px,#00000008 8px 16px);display:flex;align-items:center;justify-content:center;color:#fff;font-size:.9rem;font-weight:600}
.gallery__hint{text-align:center;margin:1rem auto 0;opacity:.6;font-size:.75rem;max-width:800px}

/* 戒指交汇动画 */
.rings__title{max-width:800px;margin:0 auto 1.2rem;text-align:center;font-size:1.8rem}
.rings__stage{display:grid;place-items:center;position:relative}
.rings__svg{overflow:visible}
.ring{fill:none;stroke-width:9;stroke-linecap:round;stroke:url(#gradRing)}
.ring--left{stroke:#ff7ab6;animation:ringLeft 6s ease-in-out infinite}
.ring--right{stroke:#ffd166;animation:ringRight 6s ease-in-out infinite}
.spark{fill:url(#sparkGrad);animation:sparkPulse 3.2s ease-in-out infinite}
@keyframes ringLeft{0%,100%{transform:translateX(0)}50%{transform:translateX(12px)}}
@keyframes ringRight{0%,100%{transform:translateX(0)}50%{transform:translateX(-12px)}}
@keyframes sparkPulse{0%,100%{transform:scale(.85);opacity:.4}50%{transform:scale(1.25);opacity:1}}
.rings__caption{text-align:center;opacity:.75;font-size:.85rem}

/* 翻牌祝福卡 */
.flip__title{text-align:center;margin:0 auto 1.4rem;font-size:1.8rem}
.flip-grid{max-width:1100px;margin:0 auto;display:grid;gap:1.2rem;grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}
.flip-card{perspective:1000px;position:relative;height:160px}
.flip-inner{position:absolute;inset:0;transition:transform .9s cubic-bezier(.65,.05,.36,1);transform-style:preserve-3d}
.flip-card:focus .flip-inner,.flip-card:active .flip-inner,.flip-card.flipped .flip-inner{transform:rotateY(180deg)}
.flip-front,.flip-back{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;border-radius:14px;font-weight:600;font-size:.95rem;padding:.9rem;text-align:center;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);box-shadow:0 6px 18px #00000055}
.flip-front{background:linear-gradient(140deg,#ff7ab620,#ffd16620);}
.flip-back{background:linear-gradient(140deg,#ffd16630,#ff7ab630);transform:rotateY(180deg)}
.flip__hint{text-align:center;margin:1rem auto 0;opacity:.6;font-size:.7rem}

.flip-card{cursor:pointer}
.flip-card:focus{outline:2px solid #ff7ab6}
